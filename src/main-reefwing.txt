#include <SPI.h>
#include <ReefwingAHRS.h>

LSM9DS1 imu;
EulerAngles angles;

void setup() {
  Serial.begin(9600);
  imu.begin();  //  Initialise the LSM9DS1 IMU
  imu.start();  //  Start processing sensor data
  imu.setFusionAlgorithm(SensorFusion::MADGWICK);
}

void loop() {
  //Serial.print("works");
  angles = imu.update();  //  Check for new IMU data and update angles
  Serial.print(String(angles.heading) + "\n");
}