// testallsensors
#include "../lib/hardware/INS/INS.hpp"

INS ins;

void setup() {
    // set all sensors up
    //ins.begin(); 

    // set sensors separetly
    // I2C (IMU and sun sensor)
    const int SDA_PIN = 26;
    const int SCL_PIN = 27;
    // Serial2 UART (GNSS)
    //const int RX_PIN = 16;
    //const int TX_PIN = 17;
    // start sensors (microcontroller is mandatory to start)
    ins.microcontroller.begin();
    ins.sunSensor.begin(SDA_PIN, SCL_PIN);
    ins.getIMU().begin(SDA_PIN, SCL_PIN);
    //ins.gnss.begin(RX_PIN, TX_PIN);
}

void loop() {
    ins.update();
  
    // show information of all sensors
    //Serial.println(ins.allSensorsToString().c_str());
  
    // show information the different sensors separately
    Serial.println(ins.sunSensor.Vector3dToString().c_str());
    Serial.println(ins.getIMU().allSensorsToString().c_str());
    //Serial.println(ins.gnss.getLastNMEAmessage().c_str());
}